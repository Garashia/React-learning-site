"use strict";(self.webpackChunkmy_base=self.webpackChunkmy_base||[]).push([[339],{844:(t,e,n)=>{n.r(e),n.d(e,{lesson3:()=>o});const o={id:"lesson3",title:"useEffect \u3067\u30c7\u30fc\u30bf\u53d6\u5f97\uff08fetch/\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0/\u30a8\u30e9\u30fc\uff09",description:"\u5916\u90e8API\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30a8\u30e9\u30fc\u3092\u6271\u3046\u57fa\u672c\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002",files:{"/App.js":{code:"import React from 'react';\n\nexport default function App() {\n  return (\n    <div style={{ fontFamily: 'sans-serif', padding: 16 }}>\n      <h1>Lesson 3: \u8a18\u4e8b\u306e\u53d6\u5f97</h1>\n      <Posts />\n    </div>\n  );\n}\n\nfunction Posts() {\n  const [posts, setPosts] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    let active = true;\n    setLoading(true);\n    fetch('https://jsonplaceholder.typicode.com/posts?_limit=5')\n      .then(r => r.ok ? r.json() : Promise.reject(r))\n      .then(data => { if (active) setPosts(data); })\n      .catch(err => { if (active) setError(err); })\n      .finally(() => { if (active) setLoading(false); });\n    return () => { active = false; };\n  }, []);\n\n  if (loading) return <p>\u8aad\u307f\u8fbc\u307f\u4e2d...</p>;\n  if (error) return <p role=\"alert\">\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f</p>;\n  return (\n    <ul>\n      {posts.map(p => (\n        <li key={p.id}>\n          <strong>{p.title}</strong>\n          <div style={{ color: '#555' }}>{p.body}</div>\n        </li>\n      ))}\n    </ul>\n  );\n}\n"},"/index.js":{code:"import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(<App />);\n"},"/index.html":{code:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Lesson 3</title>\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n'}}}}}]);
//# sourceMappingURL=lesson-lesson3.d7805422.chunk.js.map